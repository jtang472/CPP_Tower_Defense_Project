<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Sea Defense: game::core::ObjectHandle&lt; TObject &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Sea Defense
   </div>
   <div id="projectbrief">a 2D top down tower defense game developed in C++ and using SFML as graphics library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>game</b></li><li class="navelem"><b>core</b></li><li class="navelem"><a class="el" href="classgame_1_1core_1_1ObjectHandle.html">ObjectHandle</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classgame_1_1core_1_1ObjectHandle-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">game::core::ObjectHandle&lt; TObject &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>object reference handle  
 <a href="classgame_1_1core_1_1ObjectHandle.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ObjectHandle_8h_source.html">ObjectHandle.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ae287b6913a46669f9ab320f85bdf708c"><td class="memItemLeft" align="right" valign="top"><a id="ae287b6913a46669f9ab320f85bdf708c"></a>
typedef std::vector&lt; <a class="el" href="structgame_1_1core_1_1ObjectWrapper.html">ObjectWrapper</a>&lt; TObject &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>LookupTable</b></td></tr>
<tr class="separator:ae287b6913a46669f9ab320f85bdf708c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad4a0a6efcf7db055af303aef65f034e0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgame_1_1core_1_1ObjectHandle.html#ad4a0a6efcf7db055af303aef65f034e0">ObjectHandle</a> ()</td></tr>
<tr class="memdesc:ad4a0a6efcf7db055af303aef65f034e0"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classgame_1_1core_1_1ObjectHandle.html" title="object reference handle">ObjectHandle</a> default constructor.  <a href="classgame_1_1core_1_1ObjectHandle.html#ad4a0a6efcf7db055af303aef65f034e0">More...</a><br /></td></tr>
<tr class="separator:ad4a0a6efcf7db055af303aef65f034e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3287ad7164db0e61c2f35aec2e864bb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgame_1_1core_1_1ObjectHandle.html#ab3287ad7164db0e61c2f35aec2e864bb">ObjectHandle</a> (LookupTable *lookup, uint32_t guid)</td></tr>
<tr class="memdesc:ab3287ad7164db0e61c2f35aec2e864bb"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classgame_1_1core_1_1ObjectHandle.html" title="object reference handle">ObjectHandle</a> constructor.  <a href="classgame_1_1core_1_1ObjectHandle.html#ab3287ad7164db0e61c2f35aec2e864bb">More...</a><br /></td></tr>
<tr class="separator:ab3287ad7164db0e61c2f35aec2e864bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86557da5ff0cfe2f4802a9275a9d2b03"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgame_1_1core_1_1ObjectHandle.html#a86557da5ff0cfe2f4802a9275a9d2b03">updateGUID</a> (GUID newID)</td></tr>
<tr class="memdesc:a86557da5ff0cfe2f4802a9275a9d2b03"><td class="mdescLeft">&#160;</td><td class="mdescRight">update guid of the object  <a href="classgame_1_1core_1_1ObjectHandle.html#a86557da5ff0cfe2f4802a9275a9d2b03">More...</a><br /></td></tr>
<tr class="separator:a86557da5ff0cfe2f4802a9275a9d2b03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4750df4b3aaaabddcf4afac8224088bd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgame_1_1core_1_1ObjectHandle.html#a4750df4b3aaaabddcf4afac8224088bd">reset</a> ()</td></tr>
<tr class="memdesc:a4750df4b3aaaabddcf4afac8224088bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">reset object handle to empty  <a href="classgame_1_1core_1_1ObjectHandle.html#a4750df4b3aaaabddcf4afac8224088bd">More...</a><br /></td></tr>
<tr class="separator:a4750df4b3aaaabddcf4afac8224088bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cd72c93272fe9ed3d340a041291af7a"><td class="memItemLeft" align="right" valign="top">TObject *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgame_1_1core_1_1ObjectHandle.html#a0cd72c93272fe9ed3d340a041291af7a">get</a> () const</td></tr>
<tr class="memdesc:a0cd72c93272fe9ed3d340a041291af7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">get the actual object handled by this object handle  <a href="classgame_1_1core_1_1ObjectHandle.html#a0cd72c93272fe9ed3d340a041291af7a">More...</a><br /></td></tr>
<tr class="separator:a0cd72c93272fe9ed3d340a041291af7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1808153103f63ba9d7d8646d2dab679b"><td class="memItemLeft" align="right" valign="top">TObject *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgame_1_1core_1_1ObjectHandle.html#a1808153103f63ba9d7d8646d2dab679b">operator-&gt;</a> () const</td></tr>
<tr class="memdesc:a1808153103f63ba9d7d8646d2dab679b"><td class="mdescLeft">&#160;</td><td class="mdescRight">overload -&gt; operator  <a href="classgame_1_1core_1_1ObjectHandle.html#a1808153103f63ba9d7d8646d2dab679b">More...</a><br /></td></tr>
<tr class="separator:a1808153103f63ba9d7d8646d2dab679b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad98bb66a0a1ee119352bf7f3308132c6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgame_1_1core_1_1ObjectHandle.html#ad98bb66a0a1ee119352bf7f3308132c6">operator bool</a> () const</td></tr>
<tr class="memdesc:ad98bb66a0a1ee119352bf7f3308132c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">overload bool conversion  <a href="classgame_1_1core_1_1ObjectHandle.html#ad98bb66a0a1ee119352bf7f3308132c6">More...</a><br /></td></tr>
<tr class="separator:ad98bb66a0a1ee119352bf7f3308132c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:abbde99dbbdb322f020e950472c24895f"><td class="memItemLeft" align="right" valign="top">LookupTable *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgame_1_1core_1_1ObjectHandle.html#abbde99dbbdb322f020e950472c24895f">mLookup</a></td></tr>
<tr class="separator:abbde99dbbdb322f020e950472c24895f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeac7fc09cba9d603792bcce670dc57ec"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgame_1_1core_1_1ObjectHandle.html#aeac7fc09cba9d603792bcce670dc57ec">mGUID</a></td></tr>
<tr class="separator:aeac7fc09cba9d603792bcce670dc57ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class TObject&gt;<br />
class game::core::ObjectHandle&lt; TObject &gt;</h3>

<p>object reference handle </p>
<p>this class is an alternative / more efficient solution compared to std::shared_ptr &amp; std::weak_ptr, instead of storing the actual object reference, this class caches the object guid and the index of the object in a global lookup table. To get the actual object reference from the object handle, it query the global look up table and compare the two guids. If guids are equal, then the object handle is still valid and we return object reference to caller, otherwise the object is invalid and we return nullptr</p>
<dl class="section author"><dt>Author</dt><dd>Zheng Yang </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad4a0a6efcf7db055af303aef65f034e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4a0a6efcf7db055af303aef65f034e0">&#9670;&nbsp;</a></span>ObjectHandle() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TObject &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgame_1_1core_1_1ObjectHandle.html">game::core::ObjectHandle</a>&lt; TObject &gt;::<a class="el" href="classgame_1_1core_1_1ObjectHandle.html">ObjectHandle</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classgame_1_1core_1_1ObjectHandle.html" title="object reference handle">ObjectHandle</a> default constructor. </p>
<p><a class="el" href="classgame_1_1core_1_1ObjectHandle.html" title="object reference handle">ObjectHandle</a> default constructor </p>

</div>
</div>
<a id="ab3287ad7164db0e61c2f35aec2e864bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3287ad7164db0e61c2f35aec2e864bb">&#9670;&nbsp;</a></span>ObjectHandle() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TObject &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgame_1_1core_1_1ObjectHandle.html">game::core::ObjectHandle</a>&lt; TObject &gt;::<a class="el" href="classgame_1_1core_1_1ObjectHandle.html">ObjectHandle</a> </td>
          <td>(</td>
          <td class="paramtype">LookupTable *&#160;</td>
          <td class="paramname"><em>lookup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>guid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classgame_1_1core_1_1ObjectHandle.html" title="object reference handle">ObjectHandle</a> constructor. </p>
<p><a class="el" href="classgame_1_1core_1_1ObjectHandle.html" title="object reference handle">ObjectHandle</a> constructor</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lookup</td><td>global lookup table </td></tr>
    <tr><td class="paramname">guid</td><td>guid of the object it reference to </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a0cd72c93272fe9ed3d340a041291af7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cd72c93272fe9ed3d340a041291af7a">&#9670;&nbsp;</a></span>get()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TObject &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">TObject * <a class="el" href="classgame_1_1core_1_1ObjectHandle.html">game::core::ObjectHandle</a>&lt; TObject &gt;::get</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get the actual object handled by this object handle </p>
<p>get the actual object handled by this object handle </p><dl class="section return"><dt>Returns</dt><dd>actual object if it is still valid, otherwise return nullptr </dd></dl>

</div>
</div>
<a id="ad98bb66a0a1ee119352bf7f3308132c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad98bb66a0a1ee119352bf7f3308132c6">&#9670;&nbsp;</a></span>operator bool()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TObject &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgame_1_1core_1_1ObjectHandle.html">game::core::ObjectHandle</a>&lt; TObject &gt;::operator bool</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>overload bool conversion </p>
<p>overload bool conversion</p>
<dl class="section return"><dt>Returns</dt><dd>true if object reference is still valid, otherwise false </dd></dl>

</div>
</div>
<a id="a1808153103f63ba9d7d8646d2dab679b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1808153103f63ba9d7d8646d2dab679b">&#9670;&nbsp;</a></span>operator-&gt;()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TObject &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">TObject * <a class="el" href="classgame_1_1core_1_1ObjectHandle.html">game::core::ObjectHandle</a>&lt; TObject &gt;::operator-&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>overload -&gt; operator </p>
<p>overload -&gt; operator </p>

</div>
</div>
<a id="a4750df4b3aaaabddcf4afac8224088bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4750df4b3aaaabddcf4afac8224088bd">&#9670;&nbsp;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TObject &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classgame_1_1core_1_1ObjectHandle.html">game::core::ObjectHandle</a>&lt; TObject &gt;::reset</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>reset object handle to empty </p>
<p>reset object handle to empty </p>

</div>
</div>
<a id="a86557da5ff0cfe2f4802a9275a9d2b03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86557da5ff0cfe2f4802a9275a9d2b03">&#9670;&nbsp;</a></span>updateGUID()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TObject &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classgame_1_1core_1_1ObjectHandle.html">game::core::ObjectHandle</a>&lt; TObject &gt;::updateGUID </td>
          <td>(</td>
          <td class="paramtype">GUID&#160;</td>
          <td class="paramname"><em>newID</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>update guid of the object </p>
<p>update guid of the object</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">newID</td><td>new guid </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aeac7fc09cba9d603792bcce670dc57ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeac7fc09cba9d603792bcce670dc57ec">&#9670;&nbsp;</a></span>mGUID</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TObject &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classgame_1_1core_1_1ObjectHandle.html">game::core::ObjectHandle</a>&lt; TObject &gt;::mGUID</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>guid of the object </p>

</div>
</div>
<a id="abbde99dbbdb322f020e950472c24895f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbde99dbbdb322f020e950472c24895f">&#9670;&nbsp;</a></span>mLookup</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TObject &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">LookupTable* <a class="el" href="classgame_1_1core_1_1ObjectHandle.html">game::core::ObjectHandle</a>&lt; TObject &gt;::mLookup</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>cached reference to global lookup table </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/Core/<a class="el" href="ObjectHandle_8h_source.html">ObjectHandle.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
